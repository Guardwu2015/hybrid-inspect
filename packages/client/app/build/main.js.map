{"version":3,"sources":["webpack:///webpack/bootstrap fb08bf6ab631d6d4cc47","webpack:///external \"require(\\\"electron-log\\\")\"","webpack:///external \"require(\\\"electron\\\")\"","webpack:///./src/main/services/dispose.js","webpack:///./src/shared/constants.js","webpack:///./src/main/services/application.js","webpack:///./src/main/services/localip.js","webpack:///./src/main/services/proxyVorlon.js","webpack:///./src/main/updater.js","webpack:///external \"require(\\\"electron-debug\\\")\"","webpack:///external \"require(\\\"electron-is-dev\\\")\"","webpack:///external \"require(\\\"path\\\")\"","webpack:///./src/main/index.js","webpack:///./src/main/services/windowsManager.js","webpack:///external \"require(\\\"../extensions/anyproxy\\\")\"","webpack:///external \"require(\\\"../extensions/common\\\")\"","webpack:///external \"require(\\\"../extensions/vorlon\\\")\"","webpack:///external \"require(\\\"babel-runtime/core-js/json/stringify\\\")\"","webpack:///external \"require(\\\"babel-runtime/core-js/object/keys\\\")\"","webpack:///external \"require(\\\"babel-runtime/core-js/promise\\\")\"","webpack:///external \"require(\\\"babel-runtime/core-js/set-immediate\\\")\"","webpack:///external \"require(\\\"babel-runtime/helpers/classCallCheck\\\")\"","webpack:///external \"require(\\\"babel-runtime/helpers/extends\\\")\"","webpack:///external \"require(\\\"electron-updater\\\")\"","webpack:///external \"require(\\\"homedir\\\")\"","webpack:///external \"require(\\\"os\\\")\"","webpack:///external \"require(\\\"url\\\")\""],"names":["disposes","module","exports","addDispose","fn","push","clearAll","map","disposeFn","ROOT_PATH","PROJECT_WINDOW_WIDTH","PROJECT_WINDOW_HEIGHT","WELCOME_WINDOW_WIDTH","WELCOME_WINDOW_HEIGHT","PROJECT_OPEN_WINDOW_WIDTH","PROJECT_OPEN_WINDOW_HEIGHT","PROJECT_CREATE_WINDOW_WIDTH","PROJECT_CREATE_WINDOW_HEIGHT","BUGME_WINDOW_WIDTH","BUGME_WINDOW_HEIGHT","IDE_TITLE","DND_PROJECTTREE_MOVE","PORT","APPLICATION_OEPN_SETTINGS","PREVIEW_ON_DEVICE_LOGS","PUBLISH_LOGS","PROJECT_HASH","PROJECT_CREATE_HASH","WELCOME_HASH","BUGME_HASH","PROXYVORLON_HASH","init","getIPAddress","ip","console","log","startup","stopAnyproxyProcess","startAnyproxyProcess","stopVorlonProcess","startVorlonProcess","isAnyproxyProcessRunning","isVorlonProcessRunning","anyproxyExtension","vorlonExtension","home","bInitialize","vorlonProcess","anyproxyProcess","bAnyproxyLogDisabled","bVorlonLogDisabled","kill","info","resolve","reject","forkStartup","bDisableLog","then","p","on","e","rv","autoCheckUpdate","checkForUpdate","updateMenuInstance","agreeToUpdate","showMessageBox","type","title","message","buttons","buttonIndex","downloadUpdate","enabled","quitAndInstall","LogUtil","debug","stack","checkForUpdates","menuItem","focusedWindow","event","application","proxyVorlon","localip","require","err","addDevToolsExtension","global","appIsReadyToQuit","commandLine","appendSwitch","services","configs","singleton","manager","windows","welcome","projectCreate","current","setCurrent","win","getCurrent","getSizeOfWindows","length","newWindow","options","callback","Window","newWelcomeWindow","htmlHash","width","height","resizable","webPreferences","webSecurity","checkLatest","newProxyVorlonWindow","proxyVorlonWindow","closeWelcomeWindow","close","newProjectCreateWindow","closeProjectCreateWindow","closeCurrent","defaultCloseCallBack","getWindowById","id","getFocusedWindow","window","quit","localOpt","url","protocol","pathname","pathName","slashes","hash","split","process","platform","titleBarStyle","browserWindow","show","allowRunningInsecureContent","handleEvent","webContents","windowId","selfClosed","loadURL","arg1","isDestroyed","closedCallback","destroy","once","isMaximized","maximize","unmaximize","dispose","error","preventDefault","Error","sender"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fb08bf6ab631d6d4cc47","module.exports = require(\"electron-log\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"electron-log\\\")\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"electron\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"electron\\\")\"\n// module id = 1\n// module chunks = 0","let disposes = [];\nmodule.exports = {\n  addDispose(fn) {\n    disposes.push(fn);\n  },\n\n  clearAll() {\n    disposes.map((disposeFn) => {\n      return disposeFn();\n    });\n    disposes = [];\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/services/dispose.js","\n// Project Tree Root Path\nexport const ROOT_PATH = '.';\n\n// Window Size\nexport const PROJECT_WINDOW_WIDTH = 1200;\nexport const PROJECT_WINDOW_HEIGHT = 720;\nexport const WELCOME_WINDOW_WIDTH = 818;\nexport const WELCOME_WINDOW_HEIGHT = 460;\nexport const PROJECT_OPEN_WINDOW_WIDTH = 1024;\nexport const PROJECT_OPEN_WINDOW_HEIGHT = 700;\nexport const PROJECT_CREATE_WINDOW_WIDTH = 960;\nexport const PROJECT_CREATE_WINDOW_HEIGHT = 560;\nexport const BUGME_WINDOW_WIDTH = 1280;\nexport const BUGME_WINDOW_HEIGHT = 768;\n// window title\nexport const IDE_TITLE = '小程序开发者工具';\n\n// Drag And Drop\nexport const DND_PROJECTTREE_MOVE = 'DND/ProjectTree/Move';\n\n// Chrome Debugger Remote\nexport const PORT = '9222';\n\n// Settings\nexport const APPLICATION_OEPN_SETTINGS = 'APPLICATION_OEPN_SETTINGS';\n\n// Preview\nexport const PREVIEW_ON_DEVICE_LOGS = 'PREVIEW_ON_DEVICE_LOGS';\n\n// Publish\nexport const PUBLISH_LOGS = 'PUBLISH_LOGS';\n\n// Window hash\nexport const PROJECT_HASH = '/project';\nexport const PROJECT_CREATE_HASH = '/project/create';\nexport const WELCOME_HASH = '/welcome';\nexport const BUGME_HASH = '/bugme';\nexport const PROXYVORLON_HASH = '/proxyvorlon';\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/constants.js","import { newProxyVorlonWindow } from './windowsManager';\n\nexport function init() {\n  newProxyVorlonWindow();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/services/application.js","/**\n * Created by bingjian on 2017/3/22.\n */\nimport { networkInterfaces } from 'os';\nimport { getIPAddress as getIPAddressAlias } from '../extensions/common';\n\nexport function getIPAddress() {\n  const ip = getIPAddressAlias();\n  console.log(`ip=${ip}`);\n  return ip;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/services/localip.js","/**\n * Created by bingjian on 2017/3/14.\n */\nimport { addDispose } from './dispose';\nimport * as anyproxyExtension from '../extensions/anyproxy';\nimport * as vorlonExtension from '../extensions/vorlon';\nimport homedir from 'homedir';\nimport log from 'electron-log';\n\nlet home = homedir();\nlet bInitialize = false;\nlet vorlonProcess = null;\nlet anyproxyProcess = null;\nconst bAnyproxyLogDisabled = false;\nconst bVorlonLogDisabled = false;\n\nexport function startup() {\n\n  addDispose(() => {\n    anyproxyProcess && anyproxyProcess.kill('SIGHUP');\n    vorlonProcess && vorlonProcess.kill('SIGHUP');\n  });\n  log.info('startup in service proxy vorlon');\n  return new Promise((resolve, reject) => {\n\n    if ( bInitialize ) {\n      log.info('startup in service bInitialize true');\n      resolve();\n      return;\n    }\n    log.info('befor startup anyproxyExtension');\n    anyproxyExtension.forkStartup({ home, bDisableLog: bAnyproxyLogDisabled }).then((p) => {\n      anyproxyProcess = p;\n\n      vorlonProcess = vorlonExtension.forkStartup({ home, bDisableLog: bVorlonLogDisabled }).then((p) => {\n        vorlonProcess = p;\n        bInitialize = true;\n        resolve();\n\n        vorlonProcess.on('exit',  (e) => {\n          vorlonProcess = null;\n          console.log('vorlon process exit : ' + JSON.stringify(e));\n        });\n\n      });\n\n      anyproxyProcess.on('exit',  (e) => {\n        anyproxyProcess = null;\n        console.log('anyproxy process exit : ' + JSON.stringify(e));\n      });\n\n    });\n  });\n}\n\nexport function stopAnyproxyProcess () {\n  let resolve = null;\n  anyproxyProcess && anyproxyProcess.on('exit',  (e) => {\n    anyproxyProcess = null;\n    console.log('vorlon process exit : ' + JSON.stringify(e));\n    resolve();\n  });\n\n  anyproxyProcess && anyproxyProcess.kill('SIGHUP');\n  return new Promise((rv) => {\n    resolve = rv;\n  })\n}\n\nexport function startAnyproxyProcess () {\n  let resolve = null;\n  const bDisableLog = true;\n  anyproxyExtension.forkStartup({ home, bDisableLog}).then((p) => {\n    anyproxyProcess = p;\n    resolve();\n  });\n\n  return new Promise((rv) => {\n    resolve = rv;\n  })\n}\n\nexport function stopVorlonProcess () {\n  let resolve = null;\n  vorlonProcess && vorlonProcess.on('exit',  (e) => {\n    vorlonProcess = null;\n    console.log('vorlon process exit : ' + JSON.stringify(e));\n    resolve();\n  });\n\n  vorlonProcess && vorlonProcess.kill('SIGHUP');\n\n  return new Promise((rv) => {\n    resolve = rv;\n  })\n}\n\nexport function startVorlonProcess () {\n  let resolve = null;\n  vorlonProcess = vorlonExtension.forkStartup(home).then((p) => {\n    vorlonProcess = p;\n    resolve();\n  });\n\n  return new Promise(( rv ) => {\n    resolve = rv;\n  })\n}\n\nexport function isAnyproxyProcessRunning () {\n  return anyproxyProcess != null;\n}\n\n\nexport function isVorlonProcessRunning () {\n  return vorlonProcess != null;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/services/proxyVorlon.js","import { dialog } from 'electron';\nimport { autoUpdater } from 'electron-updater';\n\nlet updateMenuInstance; // the reference to update menu\nlet agreeToUpdate = false; // indicate whether to\n\nexport function autoCheckUpdate () {\n  autoUpdater.on('update-available', () => {\n    dialog.showMessageBox({\n      type: 'info',\n      title: 'Update Available',\n      message: 'A new version of AnyProxy is now available, do you want update now?',\n      buttons: ['Sure', 'No']\n    }, (buttonIndex) => {\n      // if agree to update\n      if (buttonIndex === 0) {\n        agreeToUpdate = true;\n        autoUpdater.downloadUpdate()\n      } else if (!!updateMenuInstance) {\n        agreeToUpdate = false;\n        updateMenuInstance.enabled = true\n        updateMenuInstance = null\n      }\n    });\n  });\n\n  autoUpdater.on('update-not-available', () => {\n    // if the update is checked by menu click, show message box\n    if (!!updateMenuInstance) {\n      dialog.showMessageBox({\n        title: 'No Updates',\n        message: 'Current version is up-to-date.'\n      });\n      updateMenuInstance.enabled = true\n      updateMenuInstance = null\n    }\n\n  });\n\n  /**\n   * only quit and install when manually check update\n   * or during auto checking prompt, click the agree button\n   */\n  autoUpdater.on('update-downloaded', () => {\n    if (!!updateMenuInstance || agreeToUpdate) {\n      setImmediate(() => autoUpdater.quitAndInstall())\n    }\n  });\n\n  autoUpdater.on('error', (e) => {\n    LogUtil.debug('update error happened: ' + e.message + e.stack);\n  });\n\n  autoUpdater.checkForUpdates();\n}\n\n// manually check update in menu\nexport function checkForUpdate (menuItem, focusedWindow, event) {\n  updateMenuInstance = menuItem;\n  updateMenuInstance.enabled = false;\n  autoUpdater.checkForUpdates()\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/updater.js","module.exports = require(\"electron-debug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"electron-debug\\\")\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"electron-is-dev\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"electron-is-dev\\\")\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"path\\\")\"\n// module id = 10\n// module chunks = 0","import { app, BrowserWindow } from 'electron';\nimport isDev from 'electron-is-dev';\nimport { join } from 'path';\nimport log from 'electron-log';\nimport * as application from './services/application';\nimport * as proxyVorlon from './services/proxyVorlon';\nimport * as localip from './services/localip';\nimport { clearAll } from './services/dispose';\nimport { autoCheckUpdate } from './updater';\n\nimport { PORT } from '../shared/constants';\n\nlog.info('(index) app  start >>>>>>>>>>>>>>>>>>');\n\nif (isDev) {\n  require('electron-debug')();\n}\n\nif ( !isDev ) {\n  try {\n    // autoCheckUpdate();\n  } catch (err) {\n    \n  }\n  \n}\n\n// 初始化\napp.on('ready', () => {\n  log.info('(index) app ready');\n  // menu.init();\n  application.init();\n\n  // 注册项目类型，比如 fengdie\n  // extension.registerExtensions();\n\n  // 加载 devtools extension\n  if (isDev) {\n    BrowserWindow.addDevToolsExtension(\n      join($dirname, '../../extensions/redux-devtools/2.11.1_0'),\n    );\n    BrowserWindow.addDevToolsExtension(\n      join($dirname, '../../extensions/react-developer-tools/0.15.4_0'),\n    );\n  }\n});\n\n// 放一个空绑定，保证无窗口时程序不会退出\napp.on('window-all-closed', () => {});\n\napp.on('quit', () => {\n  global.appIsReadyToQuit = true;\n  clearAll();\n  log.info('(index) app quit <<<<<<<<<<<<<<<<<<<');\n});\n\n// remote chrome debug menu\napp.commandLine.appendSwitch('remote-debugging-port', PORT);\napp.commandLine.appendSwitch('--enable-touch-events');\napp.commandLine.appendSwitch('--ignore-certificate-errors');\n\n// 注册到 global，给 renderer 通过 remote.getGlobal 调\nglobal.services = {\n  proxyVorlon,\n  application,\n  localip,\n};\n\nglobal.configs = {\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/index.js","import { app, BrowserWindow, ipcMain as ipc } from 'electron';\nimport { format } from 'url';\nimport log from 'electron-log';\n\nimport {\n  WELCOME_WINDOW_WIDTH,\n  WELCOME_WINDOW_HEIGHT,\n  PROJECT_CREATE_WINDOW_WIDTH,\n  PROJECT_CREATE_WINDOW_HEIGHT,\n  WELCOME_HASH,\n  PROJECT_CREATE_HASH,\n  PROJECT_HASH,\n  BUGME_HASH,\n  BUGME_WINDOW_HEIGHT,\n  BUGME_WINDOW_WIDTH,\n  PROXYVORLON_HASH,\n} from '../../shared/constants';\n\nconst singleton = true;\n\nconst manager = {\n  windows: {},\n  welcome: null,\n  projectCreate: null,\n  singleton: null,\n  current: null,\n};\n\nexports.setCurrent = win => (manager.current = win);\n\nexports.getCurrent = () => manager.current;\n\nexports.getSizeOfWindows = () => Object.keys(manager.windows).length;\n\nexports.newWindow = (options, callback) => new Window(options, callback);\n\nexports.Window = Window;\n\nexports.newWelcomeWindow = function newWelcomeWindow() {\n  log.info('in new welcome window');\n  return new Window({\n    htmlHash: WELCOME_HASH,\n    width: WELCOME_WINDOW_WIDTH,\n    height: WELCOME_WINDOW_HEIGHT,\n    resizable: false,\n    webPreferences: {\n      webSecurity: false,\n    }\n  }, () => {\n    checkLatest(false);\n  });\n};\n\nexports.newProxyVorlonWindow = function newProxyVorlonWindow() {\n  const proxyVorlonWindow = new Window({\n    htmlHash: PROXYVORLON_HASH,\n    width: BUGME_WINDOW_WIDTH,\n    height: BUGME_WINDOW_HEIGHT,\n    resizable: true,\n    webPreferences: {\n      webSecurity: false,\n    }\n  }, () => {\n\n  });\n  // proxyVorlonWindow.webContents.openDevTools();\n  return proxyVorlonWindow;\n};\n\n\nexports.closeWelcomeWindow = () => {\n  manager.welcome.close();\n};\n\nexports.newProjectCreateWindow = () => {\n  return new Window({\n    htmlHash: PROJECT_CREATE_HASH,\n    width: PROJECT_CREATE_WINDOW_WIDTH,\n    height: PROJECT_CREATE_WINDOW_HEIGHT,\n  });\n};\n\nexports.closeProjectCreateWindow = () => {\n  manager.projectCreate.close();\n};\n\nexports.closeCurrent = (callback) => {\n  manager.current.close((win) => {\n    if (callback) return callback();\n    defaultCloseCallBack(win);\n  });\n};\n\nexports.getWindowById = id => manager.windows[id];\n\nconst getFocusedWindow = () => {\n  const window = BrowserWindow.getFocusedWindow();\n  return manager.windows[window.id];\n};\n\nconst defaultCloseCallBack = (win) => {\n  if (win.type === WELCOME_HASH && Object.keys(manager.windows).length === 0) {\n    app.quit();\n  } else if (win.type === BUGME_HASH) {\n    app.quit();\n  }  else if (win.type === PROXYVORLON_HASH ) {\n    app.quit();\n  } else {\n    // eslint-disable-next-line no-new\n    new Window({\n      htmlHash: WELCOME_HASH,\n      width: WELCOME_WINDOW_WIDTH,\n      height: WELCOME_WINDOW_HEIGHT,\n      resizable: false,\n    });\n  }\n};\n\nclass Window {\n  constructor(options, callback) {\n    const localOpt = {};\n    const url = format({\n      protocol: 'file',\n      pathname: options.pathName || `${$dirname}/../pages/index.html`,\n      slashes: true,\n      hash: options.htmlHash,\n    });\n\n    this.type = options.htmlHash.split('?')[0];\n    if (this.type === WELCOME_HASH && manager.welcome) return null;\n    if (this.type === PROJECT_CREATE_HASH && manager.projectCreate) return null;\n\n    if (process.platform === 'darwin') localOpt.titleBarStyle = 'hidden';\n    this.browserWindow = new BrowserWindow({\n      ...options,\n      ...localOpt,\n      show: false,\n      webPreferences: {\n        allowRunningInsecureContent: true\n      }\n    });\n\n    this.on('ready-to-show', () => {\n      log.info('in ready to show');\n      this.show();\n      if (callback) callback();\n    });\n\n    this.handleEvent();\n\n    this.webContents = this.browserWindow.webContents;\n    this.id = this.browserWindow.webContents.windowId = this.browserWindow.id;\n    this.disposeFn = [];\n    this.selfClosed = true;\n\n    if (this.type === PROJECT_HASH) {\n      if (singleton && manager.singleton) {\n        manager.current.close(() => {\n          manager.current = this;\n          if (singleton && this.type === PROJECT_HASH) manager.singleton = this;\n        });\n      }\n      manager.windows[this.id] = this;\n    }\n    if (this.type === WELCOME_HASH) manager.welcome = this;\n    if (this.type === PROJECT_CREATE_HASH) manager.projectCreate = this;\n\n    this.browserWindow.loadURL(url);\n  }\n\n  show = () => this.browserWindow.show();\n\n  close = (arg1) => {\n    if (this.browserWindow && !this.isDestroyed()) {\n      this.closedCallback = arg1;\n      this.browserWindow.close();\n    }\n  }\n\n  destroy = () => {\n    if (this.browserWindow && !this.isDestroyed()) {\n      this.browserWindow.destroy();\n    }\n  }\n\n  on = (event, callback) => this.browserWindow.on(event, callback);\n\n  once = (event, callback) => this.browserWindow.once(event, callback);\n\n  isDestroyed = () => this.browserWindow.isDestroyed();\n\n  loadURL = (url, options) => this.browserWindow.loadURL(url, options);\n\n  isMaximized = () => this.browserWindow.isMaximized();\n\n  maximize = () => this.browserWindow.maximize();\n\n  unmaximize = () => this.browserWindow.unmaximize();\n\n  addDispose = (fn) => {\n    this.disposeFn.push(fn);\n  }\n\n  dispose = () => {\n    this.disposeFn.map(dispose => dispose());\n  }\n\n  handleEvent = () => {\n    this.browserWindow.on('close', (event) => {\n      try {\n        this.dispose();\n      } catch (error) {\n        event.preventDefault();\n        throw new Error(error);\n      }\n    });\n\n    this.on('closed', () => {\n      if (global.appIsReadyToQuit) return;\n      if (this.type === PROJECT_CREATE_HASH) manager.projectCreate = null;\n      if (this.type === WELCOME_HASH) manager.welcome = null;\n      if (this.type === PROJECT_HASH) delete manager.windows[this.id];\n      if (singleton) {\n        manager.current = null;\n      } else {\n        manager.current = getFocusedWindow();\n      }\n\n      if (this.closedCallback) {\n        this.closedCallback(this);\n      } else {\n        defaultCloseCallBack(this);\n      }\n    });\n    this.on('focus', () => {\n      manager.current = this;\n    });\n  }\n}\n\n// ipc监听renderer线程\nipc.on('window:doubleClickTitleBar', (e) => {\n  const window = manager.windows[e.sender.windowId];\n  if (window && !window.isDestroyed()) {\n    if (window.isMaximized()) {\n      window.unmaximize();\n    } else {\n      window.maximize();\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/services/windowsManager.js","module.exports = require(\"../extensions/anyproxy\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"../extensions/anyproxy\\\")\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"../extensions/common\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"../extensions/common\\\")\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"../extensions/vorlon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"../extensions/vorlon\\\")\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/json/stringify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"babel-runtime/core-js/json/stringify\\\")\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/keys\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"babel-runtime/core-js/object/keys\\\")\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"babel-runtime/core-js/promise\\\")\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/set-immediate\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"babel-runtime/core-js/set-immediate\\\")\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/classCallCheck\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"babel-runtime/helpers/classCallCheck\\\")\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/extends\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"babel-runtime/helpers/extends\\\")\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"electron-updater\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"electron-updater\\\")\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"homedir\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"homedir\\\")\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"os\\\")\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"require(\\\"url\\\")\"\n// module id = 25\n// module chunks = 0"],"sourceRoot":""}